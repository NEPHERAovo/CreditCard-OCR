# 主要针对国内银行（国外银行好像也还行）的识别

### 是毕业设计

## 包含内容 ⭐

- [x] 银行卡矫正
- [x] YOLOv8 实现卡号/有效期区域定位
- [x] CRNN 实现端到端卡号和有效期识别
- [x] 根据卡号确定银行名称等信息
- [x] 可操作的互动型界面

暂时识别率还是有点惨，在尝试使用同一个网络同时解决卡号和有效期的识别，存在正确识别卡号但是有效期识别错误的情况

update: 最后还是放弃了用一个网络的做法，因为有效期的数据集太小了

update 05.03.23: 识别率干到 90%+了但是有效期的识别还是不太行，依旧有比较多正确识别卡号但是有效期出错的情况。数据集太少了没办法，暂时也没有更多时间去做模拟数据集，如果有想做这方面工作的我觉得可以往这个方向走~

1. 训练定位的数据集开源在 roboflow 上，只有最后一个 version 包含银联标志定位，如果不需要可以选择其它的。一共标注了 600+ 图片，增强 3x，到 1500+ 张，已经可以在 YOLOv8 上取得非常好的效果（YOLOv5 会出现卡号框不全的问题，但我没有做更多深入研究）。

roboflow link : https://universe.roboflow.com/i-need-this-for-graduation/creditcardorbankcard

2. 因为卡号的数据集也不大，而 CRNN 基本上需要上万张才能得到一个不错的效果。在尝试了许多方案之后，最后选择使用“真实数据集增强 + 模拟数据集”的方案来共同构建训练需要的数据集。仅用真实数据集会过拟合+泛化能力差。单独使用模拟数据集在尝试许多方案后最终能达到 80% 左右的识别率，不太高。联合两类数据集最终做到了约 94% 的识别率，且泛化能力还不错~

3. 在 CRNN 原有的 CNN 上做到了 92% ，我把它的 CNN backbone 换为了 LCNet 以后做到了 94% （仅卡号）。日期的准确率很高，但是因为我手里的数据集太小了所以泛化能力极差，认为该准确率没有太多参考价值。

4. 我的训练参数为 epoch = 100 ; batch_size = 64 ; lr = 0.0001 ; optim = 'adam'，在 50-60epoch 附近达到最高识别率。

5. 使用 yolov8n，在 50epoch 左右达到最佳。

6. 增强数据集的获取等相关代码可以在 ./scripts/ 下找到，我使用的是那个你在网上随处都可以找到的四个数字的数据集为基础来操作拼接的。使用时可能需要根据情况自己调整参数（因为我后续还用这些代码做了其它增强，有修改一些参数）

7. 五万多张数据集在我的 1070max-q 上以上述参数跑完 100 epoches 大约需要 12 个小时，供参考。由于 ddl 比较近了所以我也没有探索过多的提高识别率的方案，如果条件允许你也可以去尝试更多。./crnn/model.py 中添加的 mobilenetv3 我还没有来得及测试，可用性未知，可能还需要一些修改。

   ...更多内容有待完善...
